---
import type { BadgeColors } from '@dtypes/layout_components';

interface Props {
    number: number;
    color?: BadgeColors;
    [propName: string]: any;
}

const {
    number,
    color = 'fleet-red',
    ...attributes
} = Astro.props;

const badge_background_color = `var(--${color})`;
const badge_color = (color !== 'fleet-yellow' ? 'var(--highlight)' : 'var(--fleet-red)')
---

<span class="[ badge ]" {...attributes}>{number < 100 ? number : '+99'}</span>

<style lang="scss" define:vars={{ badge_background_color, badge_color }}>
    .badge {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 1.2rem;
        height: 1.2rem;
        border-radius: 50%;
        font-size: var(--step--2);
        font-family: var(--badge-font);
        color: var(--badge_color);
        background-color: var(--badge_background_color);
    }
</style>