---
import { get_item_icon_by_name } from '@helpers/eve_image_server';

import type { ItemListItem } from '@dtypes/layout_components';

import ComponentBlock from '@components/blocks/ComponentBlock.astro';
import Grid from '@components/compositions/Grid.astro';
import Flexblock from '@components/compositions/Flexblock.astro';
import Picture64 from '@components/blocks/Picture64.astro';

interface Props {
    title: string;
    items: ItemListItem[];
}

const {
    title,
    items,
} = Astro.props
---

<ComponentBlock max_width='100%'>
    <Flexblock class="[ w-full ]" gap='var(--space-m)'>
        <h2>{title}</h2>
        <Grid
            role="list"
            class="[ w-full ]"
            min_item_width='270px'
            row_gap='var(--space-s-m)'
            column_gap='var(--space-s-m)'
        >
            {items.map((item) => 
                <Picture64 role="listitem" text={item.name}>
                    <img loading="lazy" class="[ w-full ]" src={get_item_icon_by_name(item.alt)} alt={item.alt} height="64" width="64" />
                </Picture64>
            )}
        </Grid>
    </Flexblock>
</ComponentBlock>

<style lang="scss">
    .wrapper {
        display: flex;
        align-items: center;
    }

    a[href] {
        text-decoration: none;
        color: var(--highlight);
    }
</style>